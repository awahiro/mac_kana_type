<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>操作説明 - かな入力タイピング練習</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .help-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 30px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .help-section {
            margin-bottom: 30px;
        }
        .help-section h2 {
            color: #333;
            border-bottom: 2px solid #4CAF50;
            padding-bottom: 10px;
            margin-bottom: 15px;
        }
        .help-section h3 {
            color: #555;
            margin-top: 20px;
            margin-bottom: 10px;
        }
        .color-sample {
            display: inline-block;
            width: 20px;
            height: 20px;
            border-radius: 3px;
            margin-right: 8px;
            vertical-align: middle;
            border: 1px solid #ccc;
        }
        .key-demo {
            display: inline-block;
            padding: 5px 10px;
            background: #f0f0f0;
            border: 1px solid #ccc;
            border-radius: 3px;
            font-family: monospace;
            margin: 0 2px;
        }
        .finger-colors {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 10px;
        }
        .finger-item {
            display: flex;
            align-items: center;
        }
        .back-button {
            display: inline-block;
            padding: 10px 20px;
            background-color: #4CAF50;
            color: white;
            text-decoration: none;
            border-radius: 5px;
            margin-bottom: 20px;
            transition: background-color 0.3s;
        }
        .back-button:hover {
            background-color: #45a049;
        }
        .step-list {
            counter-reset: step-counter;
            list-style: none;
            padding-left: 0;
        }
        .step-list li {
            counter-increment: step-counter;
            margin-bottom: 15px;
            padding-left: 30px;
            position: relative;
        }
        .step-list li::before {
            content: counter(step-counter);
            position: absolute;
            left: 0;
            top: 0;
            background: #4CAF50;
            color: white;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
        }
        .warning {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
        }
        .tip {
            background: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
        }
    </style>
</head>
<body>
    <div class="help-container">
        <a href="index.html" class="back-button">← タイピング練習に戻る</a>
        
        <h1>かな入力タイピング練習 操作説明</h1>
        
        <div class="help-section">
            <h2>🎯 このアプリについて</h2>
            <p>USキーボードでのかな入力練習専用のタイピングアプリです。MacでGoogle日本語入力を使用する環境に最適化されています。</p>
            
            <div class="warning">
                <strong>⚠️ 重要な設定</strong><br>
                このアプリを使用する前に、以下の設定を確認してください：
                <ul>
                    <li>Google日本語入力が選択されていること</li>
                    <li>入力モードが「ひらがな（かな入力）」になっていること</li>
                    <li>ローマ字入力ではなく、かな入力モードであること</li>
                </ul>
            </div>
        </div>

        <div class="help-section">
            <h2>🚀 基本的な使い方</h2>
            <ol class="step-list">
                <li><strong>モードを選択</strong><br>
                    「簡単モード」：次に押すキーと使う指がハイライト表示されます<br>
                    「普通モード」：ハイライト表示なしで練習できます</li>
                
                <li><strong>問題を選択</strong><br>
                    プルダウンメニューから練習したい問題を選択します<br>
                    • デフォルト問題<br>
                    • 基本ひらがな<br>
                    • 短い単語<br>
                    • 一般的な挨拶<br>
                    • 文章練習</li>
                
                <li><strong>「スタート」ボタンを押す</strong><br>
                    練習が開始されます。ボタンは「リセット」に変わります</li>
                
                <li><strong>表示された文字を入力</strong><br>
                    問題文に表示された文字を、かな入力で正確に入力します</li>
                
                <li><strong>練習を続ける</strong><br>
                    1つの文章が終わると、自動的に次の問題に進みます</li>
            </ol>
        </div>

        <div class="help-section">
            <h2>🎨 画面の見方</h2>
            
            <h3>問題文の色</h3>
            <ul>
                <li><span style="background-color: #c8e6c9; padding: 2px 4px; border-radius: 2px;">入力済み</span>：正しく入力できた文字（緑色）</li>
                <li><span style="background-color: #ffeb3b; padding: 2px 4px; border-radius: 2px;">現在の文字</span>：今入力すべき文字（黄色）</li>
                <li>未入力：まだ入力していない文字（通常表示）</li>
            </ul>

            <h3>指の色分け</h3>
            <div class="finger-colors">
                <div class="finger-item">
                    <span class="color-sample" style="background-color: #ffebee;"></span>
                    小指（ピンク）
                </div>
                <div class="finger-item">
                    <span class="color-sample" style="background-color: #e8f5e8;"></span>
                    薬指（緑）
                </div>
                <div class="finger-item">
                    <span class="color-sample" style="background-color: #f3e5f5;"></span>
                    中指（紫）
                </div>
                <div class="finger-item">
                    <span class="color-sample" style="background-color: #e3f2fd;"></span>
                    人差指（青）
                </div>
            </div>
            <p>キーボードの各キーと指の表示が同じ色になっているので、どの指でどのキーを押すべきかが一目でわかります。</p>

            <h3>キーの状態表示</h3>
            <ul>
                <li><strong>青い枠線</strong>：次に押すべきキー（簡単モードのみ、点滅します）</li>
                <li><strong>黄緑の枠線</strong>：正しく押せたキー（0.5秒間表示）</li>
                <li><strong>赤い枠線</strong>：間違って押したキー（0.5秒間表示）</li>
                <li><strong>オレンジ色</strong>：Shiftキーを押している間</li>
            </ul>
        </div>

        <div class="help-section">
            <h2>⌨️ キーボード配列について</h2>
            
            <h3>キーの表示</h3>
            <p>各キーには3つの情報が表示されています：</p>
            <ul>
                <li><strong>上段左</strong>：ローマ字（キーの物理的な名前）</li>
                <li><strong>上段右</strong>：Shift+キーで入力される文字</li>
                <li><strong>下段</strong>：通常のかな文字</li>
            </ul>

            <h3>Shift組み合わせ文字</h3>
            <p>小さい文字（ぁぃぅぇぉゃゅょ）や「を」は、Shiftキーと組み合わせて入力します：</p>
            <ul>
                <li><span class="key-demo">Shift + 0</span> → 「を」</li>
                <li><span class="key-demo">Shift + 3</span> → 「ぁ」</li>
                <li><span class="key-demo">Shift + 7</span> → 「ゃ」</li>
                <li>など</li>
            </ul>
        </div>

        <div class="help-section">
            <h2>📁 独自の問題ファイルを追加</h2>
            <ol class="step-list">
                <li><strong>テキストファイルを作成</strong><br>
                    UTF-8エンコーディングで、拡張子が .txt のファイルを作成します</li>
                
                <li><strong>問題を記述</strong><br>
                    1行につき1つの問題を書きます<br>
                    例：<br>
                    <code>
                    あいうえお<br>
                    こんにちは<br>
                    おはようございます
                    </code></li>
                
                <li><strong>problemフォルダに保存</strong><br>
                    作成したファイルを problem フォルダ内に保存します</li>
                
                <li><strong>「問題を更新」ボタンをクリック</strong><br>
                    新しいファイルがプルダウンメニューに表示されます</li>
            </ol>
        </div>

        <div class="help-section">
            <h2>💡 練習のコツ</h2>
            
            <div class="tip">
                <strong>💡 効果的な練習方法</strong>
                <ul>
                    <li><strong>正確性を重視</strong>：速度よりもまず正確性を身につけましょう</li>
                    <li><strong>指の色を意識</strong>：キーと指の色を見比べて、正しい指で押す習慣をつけましょう</li>
                    <li><strong>簡単モードから開始</strong>：最初は簡単モードでキーの位置を覚えましょう</li>
                    <li><strong>短時間で継続</strong>：長時間よりも短時間の練習を継続する方が効果的です</li>
                </ul>
            </div>

            <h3>段階的な練習</h3>
            <ol>
                <li><strong>基本ひらがな</strong>：まず50音の基本的な文字から</li>
                <li><strong>短い単語</strong>：2〜3文字の単語で慣れる</li>
                <li><strong>一般的な挨拶</strong>：よく使うフレーズを練習</li>
                <li><strong>文章練習</strong>：長い文章でスピードアップ</li>
                <li><strong>Shift文字</strong>：小さい文字や「を」の練習</li>
            </ol>
        </div>

        <div class="help-section">
            <h2>🔧 トラブルシューティング</h2>
            
            <h3>キーを押しても反応しない</h3>
            <ul>
                <li>Google日本語入力が選択されているか確認</li>
                <li>かな入力モードになっているか確認（ローマ字入力ではない）</li>
                <li>ブラウザの設定でキーボード入力が許可されているか確認</li>
            </ul>

            <h3>文字が正しく入力されない</h3>
            <ul>
                <li>入力モードが「ひらがな」になっているか確認</li>
                <li>Caps Lockがオンになっていないか確認</li>
                <li>別のブラウザで試してみる</li>
            </ul>

            <h3>問題ファイルが読み込まれない</h3>
            <ul>
                <li>ローカルサーバーで実行しているか確認（file://では動作しません）</li>
                <li>ファイルがproblemフォルダに正しく保存されているか確認</li>
                <li>ファイルの拡張子が .txt になっているか確認</li>
                <li>「問題を更新」ボタンをクリックして再読み込み</li>
            </ul>
        </div>

        <div class="help-section">
            <h2>📞 サポート</h2>
            <p>問題や質問がある場合は、開発者にお問い合わせください。<br>
            継続的な練習で、かな入力のスキルを向上させましょう！</p>
        </div>

        <a href="index.html" class="back-button">← タイピング練習に戻る</a>
    </div>
</body>
</html>